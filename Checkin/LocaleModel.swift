//
//  LocaleModel.swift
//  Checkin
//
//  Created by j-sys on 2022/08/04.
//

import Foundation

class LocaleModel: NSObject,ObservableObject{
    @Published var countries: [String:String] = [:]
    var lang: String?
//    選択した言語で国リストを取得

    init(lang:String){
        super.init()
      self.lang = lang
        
            for code in NSLocale.isoCountryCodes  {
                let id = NSLocale.localeIdentifier(fromComponents: [NSLocale.Key.countryCode.rawValue: code])
                let name = NSLocale(localeIdentifier: lang).displayName(forKey: NSLocale.Key.identifier, value: id) ?? "Country not found for code: \(code)"
                self.countries[id] = name
            }
       
            print("countries:\(self.countries)")
        
    }
    
//    国の国際電話コード iddCOdeをKeyをもとに取得
    //    国の国際電話コード iddCOdeをKeyをもとに取得
        func getCountryCallingCode(countryRegionCode:String)->String{

                let prefixCodes = ["_AF": "+93", "_AE": "+971", "_AL": "+355", "_AN": "+599", "_AS": "+1", "_AD": "+376", "_AO": "+244", "_AI": "+1", "_AG": "+1", "_AR": "+54","AM": "+374", "_AW": "+297", "_AU": "+61", "_AT": "+43","AZ": "+994", "_BS": "+1", "_BH": "+973", "_BF": "+226","BI": "+257", "_BD": "+880", "_BB": "+1", "_BY": "+375", "_BE": "+32","BZ": "+501", "_BJ": "+229", "_BM": "+1", "_BT": "+975", "_BA": "+387", "_BW": "+267", "_BR": "+55", "_BG": "+359", "_BO": "+591", "_BL": "+590", "_BN": "+673", "_CC": "+61", "_CD": "+243","CI": "+225", "_KH": "+855", "_CM": "+237", "_CA": "+1", "_CV": "+238", "_KY": "+345", "_CF": "+236", "_CH": "+41", "_CL": "+56", "_CN": "+86","CX": "+61", "_CO": "+57", "_KM": "+269", "_CG": "+242", "_CK": "+682", "_CR": "+506", "_CU": "+53", "_CY": "+537","CZ": "+420", "_DE": "+49", "_DK": "+45", "_DJ": "+253", "_DM": "+1", "_DO": "+1", "_DZ": "+213", "_EC": "+593", "_EG": "+20", "_ER": "+291", "_EE": "+372","ES": "+34", "_ET": "+251", "_FM": "+691", "_FK": "+500", "_FO": "+298", "_FJ": "+679", "_FI": "+358", "_FR": "+33", "_GB": "+44", "_GF": "+594", "_GA": "+241", "_GS": "+500", "_GM": "+220", "_GE": "+995","GH": "+233", "_GI": "+350", "_GQ": "+240", "_GR": "+30", "_GG": "+44", "_GL": "+299", "_Gd": "+1", "_GP": "+590", "_GU": "+1", "_GT": "+502", "_GN": "+224","GW": "+245", "_GY": "+595", "_HT": "+509", "_HR": "+385", "_HN": "+504", "_HU": "+36", "_HK": "+852", "_IR": "+98", "_IM": "+44", "_IL": "+972", "_IO": "+246", "_IS": "+354", "_IN": "+91", "_ID": "+62", "_IQ": "+964", "_IE": "+353","IT": "+39", "_JM": "+1", "_JP": "+81", "_JO": "+962", "_JE": "+44", "_KP": "+850", "_KR": "+82","KZ": "+77", "_KE": "+254", "_KI": "+686", "_KW": "+965", "_KG": "+996","KN": "+1", "_LC": "+1", "_LV": "+371", "_LB": "+961", "_LK": "+94", "_LS": "+266", "_LR": "+231", "_LI": "+423", "_LT": "+370", "_LU": "+352", "_LA": "+856", "_LY": "+218", "_MO": "+853", "_MK": "+389", "_MG": "+261", "_MW": "+265", "_MY": "+60","MV": "+960", "_ML": "+223", "_MT": "+356", "_MH": "+692", "_MQ": "+596", "_MR": "+222", "_MU": "+230", "_MX": "+52","MC": "+377", "_MN": "+976", "_ME": "+382", "_MP": "+1", "_MS": "+1", "_MA": "+212", "_MM": "+95", "_MF": "+590", "_MD": "+373", "_MZ": "+258", "_NA": "+264", "_NR": "+674", "_NP": "+977", "_NL": "+31","NC": "+687", "_NZ": "+64", "_NI": "+505", "_NE": "+227", "_NG": "+234", "_NU": "+683", "_NF": "+672", "_NO": "+47","OM": "+968", "_PK": "+92", "_PM": "+508", "_PW": "+680", "_PF": "+689", "_PA": "+507", "_PG": "+675", "_PY": "+595", "_PE": "+51", "_PH": "+63", "_PL": "+48", "_PN": "+872","PT": "+351", "_PR": "+1","PS": "+970", "_QA": "+974", "_RO": "+40", "_RE": "+262", "_RS": "+381", "_RU": "+7", "_RW": "+250", "_SM": "+378", "_SA": "+966", "_SN": "+221", "_SC": "+248", "_SL": "+232","SG": "+65", "_SK": "+421", "_SI": "+386", "_SB": "+677", "_SH": "+290", "_SD": "+249", "_SR": "+597","SZ": "+268", "_SE": "+46", "_SV": "+503", "_ST": "+239","SO": "+252", "_SJ": "+47", "_SY": "+963", "_TW": "+886", "_TZ": "+255", "_TL": "+670", "_TD": "+235", "_TJ": "+992", "_TH": "+66", "_TG": "+228", "_TK": "+690", "_TO": "+676", "_TT": "+1", "_TN": "+216","TR": "+90", "_TM": "+993", "_TC": "+1", "_TV": "+688", "_UG": "+256", "_UA": "+380", "_US": "+1", "_UY": "+598","UZ": "+998", "_VA": "+379", "_VE": "+58", "_VN": "+84", "_VG": "+1", "_VI": "+1","VC": "+1", "_VU": "+678", "_WS": "+685", "_WF": "+681", "_YE": "+967", "_YT": "+262","ZA": "+27" , "ZM": "+260", "_ZW": "+263"]
                let countryDialingCode = prefixCodes[countryRegionCode]
                return countryDialingCode ?? ""

        }
    
}
